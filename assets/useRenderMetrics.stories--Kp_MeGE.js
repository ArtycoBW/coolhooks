import{j as e}from"./jsx-runtime-DWbWqHZ-.js";import{r}from"./index-l2PZgWEW.js";const k="_wrapper_186wk_1",M="_title_186wk_9",b="_metrics_186wk_15",c={wrapper:k,title:M,metrics:b};function g(o="Unknown",l=!0){const s=r.useRef(0),t=r.useRef(null),n=Date.now();s.current++,r.useEffect(()=>{t.current=Date.now()});const d=t.current?(n-t.current)/1e3:0,R=r.useCallback(a=>{const x=a/1048576,j=a/(1024*1024*1024);return j>=1?`${j.toFixed(2)} GB`:`${x.toFixed(2)} MB`},[]);let m;const u=window.performance;u.memory&&(m=R(u.memory.usedJSHeapSize));const p=r.useCallback(a=>new Date(a).toLocaleString(),[]);return r.useMemo(()=>({name:o,renders:s.current,sinceLastRender:d,timestamp:p(n),memoryUsage:m}),[o,s.current,d,n,m,p])}const _=()=>{const[o,l]=r.useState(0),s=g("Счётчик"),t=()=>{l(n=>n+1)};return e.jsxs("div",{className:c.wrapper,children:[e.jsxs("p",{className:c.title,children:["Счетчик: ",o]}),e.jsx("button",{onClick:t,className:c.button,children:"Увеличить счетчик"}),s&&e.jsxs("div",{className:c.metrics,children:[e.jsx("h2",{className:c.title,children:"Метрики рендеров:"}),e.jsxs("p",{children:["Имя: ",e.jsx("span",{children:s.name})]}),e.jsxs("p",{children:["Количество рендеров: ",e.jsx("span",{children:s.renders})]}),e.jsxs("p",{children:["Время с последнего рендера: ",e.jsxs("span",{children:[s.sinceLastRender," секунд"]})]}),e.jsxs("p",{children:["Временная метка: ",e.jsx("span",{children:s.timestamp})]}),s.memoryUsage&&e.jsxs("p",{children:["Использование памяти: ",e.jsx("span",{children:s.memoryUsage})]})]})]})},S={title:"Хуки/useRenderMetrics",component:_},D=()=>e.jsx(_,{}),i=D.bind({});var h,f,w;i.parameters={...i.parameters,docs:{...(h=i.parameters)==null?void 0:h.docs,source:{originalSource:"() => <Demo />",...(w=(f=i.parameters)==null?void 0:f.docs)==null?void 0:w.source}}};const E=["Default"];export{i as Default,E as __namedExportsOrder,S as default};
